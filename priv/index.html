<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Syncshare test</title>
    <script type="text/javascript" src="client.js"></script>
  </head>
  <body>
    initialising SSE connection...
  </body>
  <script type="text/javascript">
    var service = new Syncshare.Client('localhost:8080').lookup('twitter', {secure: true}).on({
      direct: function(payload) {
          console.log('got direct response: ', payload);
      },
      broadcast: function(payload) {
          console.log('got broadcast response: ', payload);
      }
    }).start();

    setTimeout(function() {
        service.direct('observe', {hash: 'britney', user: 'http://dupa.hasia.pl'});
		    service.direct('upload', {url: 'http://blahblah.pl'});
    }, 300);

  </script>
</html>
